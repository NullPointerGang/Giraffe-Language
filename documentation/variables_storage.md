# Документация для хранилищя переменных

В этой документации описана структура и функции системы хранения переменных, которая используется в языке, поддерживающем различные типы данных. Мы рассмотрим основные компоненты системы хранения переменных, а именно типы данных, хранимые значения и операции над переменными.

## Обзор

Система хранения переменных реализует функциональность для хранения, модификации и получения значений переменных в программе.

## Основные компоненты

### Перечисление `DataType`

Перечисление `DataType` определяет различные типы данных, которые могут быть использованы в языке. Каждый тип данных представляет собой отдельный вариант, который может быть присвоен переменной:

- `Int` — целое число.
- `Str` — строка.
- `Float` — число с плавающей запятой.
- `Bool` — логическое значение (истина или ложь).
- `List` — список значений.
- `Dict` — словарь (ключ-значение).
- `Set` — множество значений.
- `Tuple` — кортеж значений.
- `Null` — пустое значение.
- `Option` — опциональное значение (может содержать значение или быть пустым).
- `Error` — ошибка, представленная строкой.

### Перечисление `DataValue`

Перечисление `DataValue` представляет значения, которые могут быть присвоены переменным. Каждый тип данных из перечисления `DataType` представлен отдельным вариантом:

- `Int(i64)` — значение типа `Int`, целое число.
- `Str(String)` — значение типа `Str`, строка.
- `Float(f64)` — значение типа `Float`, число с плавающей запятой.
- `Bool(bool)` — значение типа `Bool`, логическое значение.
- `List(Vec<DataValue>)` — значение типа `List`, список значений.
- `Dict(HashMap<String, DataValue>)` — значение типа `Dict`, словарь, где ключи — строки, а значения — данные типа `DataValue`.
- `Set(Vec<DataValue>)` — значение типа `Set`, множество значений.
- `Tuple(Vec<DataValue>)` — значение типа `Tuple`, кортеж значений.
- `Null` — значение типа `Null`, пустое значение.
- `Option(Box<DataValue>)` — опциональное значение, которое может содержать данные или быть пустым.
- `Error(String)` — ошибка, представленная строкой.

### Структура `Variable`

Структура `Variable` представляет переменную, которая состоит из:

- `name` — имя переменной (строка).
- `data_type` — тип данных переменной (`DataType`).
- `value` — текущее значение переменной (`DataValue`).

### Структура `VariablesStorage`

Структура `VariablesStorage` предназначена для хранения всех определённых переменных в программе. Переменные хранятся в хэш-таблице, где ключ — это имя переменной, а значение — сама переменная (`Variable`).

#### Методы `VariablesStorage`

- `new()` — создаёт новый экземпляр хранилища переменных с пустым набором переменных.
- `define(name: String, data_type: DataType, value: DataValue)` — добавляет новую переменную в хранилище с заданным именем, типом данных и значением.
- `get(name: &str)` — возвращает ссылку на переменную с указанным именем, если такая переменная существует в хранилище.
- `set(name: &str, value: DataValue)` — изменяет значение переменной с указанным именем. Если переменная не найдена, возвращает ошибку.
- `remove(name: &str)` — удаляет переменную с указанным именем из хранилища и возвращает её.

## Заключение

Она позволяет управлять переменными, обеспечивая поддержку различных типов данных и значений. Методы для определения, получения, изменения и удаления переменных предоставляют гибкость в манипуляции с данными.